<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>metadata</title>

    <link rel="stylesheet" href="./assets/highlight.min.css">
    <link rel="stylesheet" href="./assets/style.css">

    <script src="./assets/highlight.min.js"></script>
    <script src="./assets/script.js"></script>
</head>

<body>
    <div class="code-wrapper">
        <h1>ðŸŒ½ corn</h1>
        <hr>
        <p><em>A strictly typed, general-purpose programming language, crafted for simplicity and performance.</em></p>
        <p><em>"Trust the programmer"</em> - <code>corn</code></p>
        <hr>
        <br>

        <nav>
            @ <- <a href="index.html">index</a>
        </nav>
        <br>

        <nav>
            @ ->
            <a href="intro.html">introduction</a>
            <a href="comments.html">comments</a>
            <a href="primitives.html">primitives</a>
            <a href="variable-and-constant.html">variable & constant</a>
            <a href="array.html">array</a>
            <a href="conditionals.html">conditionals</a>
            <a href="loops.html">loops</a>
            <a href="function.html">function</a>
        </nav>
        <br>

        <nav>
            @ ->
            <a href="module.html">module</a>
            <a href="struct.html">struct</a>
            <a href="contract.html">contract</a>
            <a href="modifiers.html">modifiers</a>
            <a href="composition.html">composition</a>
            <a href="object.html">object</a>
            <a href="memory.html">memory</a>
        </nav>
        <br>

        <nav>
            @ ->
            <a href="metadata.html">metadata</a>
            <a href="proposals.html">proposals</a>
        </nav>
        <br>
        <hr>

        <h3># Type Metadata</h3>
        <p>Due to performance reasons, type metadata is only available to specific contexts (where metadata is
            available) and some operations are only
            permitted in these contexts. For specific types, there are equivalent metadata types. As, for describing
            variadic function arguments there is a <code>vargs</code> type.
        </p>

        <br>
        <h4># <code>typeof</code> Operator</h4>
        <p>Retrieves the type ID of a given variable or expression. Useful for runtime type inspection in contexts where
            type metadata is available.</p>
        <pre><code class="language-corn">
int x = 42;

if (typeof x == type_int) {
    print("x is an integer.");
}
        </code></pre>

        <br>
        <h4># <code>typestr</code> Operator</h4>
        <p>Converts a type ID into its string representation for debugging or user feedback purposes.</p>
        <pre><code class="language-corn">
int x = 42;

print("Type of x: " + typestr typeof x);  # Output: "Type of x: integer"

# or for clarity
print("Type of x: " + typestr(typeof x));
        </code></pre>

        <br>
        <h4># <code>foreach</code> Loop</h4>
        <p>Simplifies iteration over collections or metadata structures like vargs. Works with arrays, metadata types, and other iterable structures.</p>
        <pre><code class="language-corn">
int sum(int args...) {         # variable name, only int type is allowed
    vargs data = vainit(args);

    int res = 0;

    foreach (arg in data) {
        print(arg);
    }

    # automatic cleanup any data existed

    return res;
}
        </code></pre>
    </div>
</body>

</html>
